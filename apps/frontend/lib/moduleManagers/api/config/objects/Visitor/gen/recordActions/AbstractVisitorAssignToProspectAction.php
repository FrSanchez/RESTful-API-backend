<?php
namespace Api\Config\Objects\Visitor\Gen\RecordActions;

use Api\Objects\ObjectDefinition;
use Api\Objects\RecordActions\RecordActionContext;
use Api\Objects\RecordActions\RecordActionDefinition;
use Api\Gen\Representations\VisitorRepresentation;
use Api\Exceptions\ApiException;
use Exception;
use DateTime;

/**
 * DO NOT MODIFY! This is generated by the API generation suite. Use "baker-api-gen" to generate a new version.

 */
abstract class AbstractVisitorAssignToProspectAction implements VisitorAssignToProspectActionInterface
{
	/**
	 * Override this method with any validation logic. This method is executed before the {@see executeActionWithArgs}
	 * method.
	 *
	 * @param RecordActionContext $recordActionContext The current context in which the record action is being executed.
	 * @param bool|null $assignDeletedProspect
	 * @param int $prospectId
	 * @throws Exception
	 */
	public function validateWithArgs(
		RecordActionContext $recordActionContext,
		?bool $assignDeletedProspect,
		int $prospectId
	): void
	{
		// override this method to validate the arguments
	}

	/**
	 * Executes the action for the current record.
	 * @param RecordActionContext $recordActionContext The current context in which the record action is being executed.
	 * @param array $arguments The arguments passed to the record action. This will be an empty array if no arguments
	 * are defined for the action.
	 * @return VisitorRepresentation|null
	 * @throws ApiException
	 */
	final public function executeAction(RecordActionContext $recordActionContext, array $arguments): ?VisitorRepresentation
	{
		$this->validateWithArgs(
			$recordActionContext,
			$arguments[self::ARG_ASSIGN_DELETED_PROSPECT] ?? null,
			$arguments[self::ARG_PROSPECT_ID] ?? null
		);
		return $this->executeActionWithArgs(
			$recordActionContext,
			$arguments[self::ARG_ASSIGN_DELETED_PROSPECT] ?? null,
			$arguments[self::ARG_PROSPECT_ID] ?? null
		);
	}

	/**
	 * @param RecordActionContext $recordActionContext The current context in which the record action is being executed.
	 * @param bool|null $assignDeletedProspect
	 * @param int $prospectId
	 * @return VisitorRepresentation|null
	 */
	public abstract function executeActionWithArgs(
		RecordActionContext $recordActionContext,
		?bool $assignDeletedProspect,
		int $prospectId
	): ?VisitorRepresentation;
}
